# üèóÔ∏è Construct Cost AI - Verificador Inteligente de Obras

## üìã Vis√£o Geral

**Construct Cost AI** √© um sistema inteligente para valida√ß√£o e concilia√ß√£o de or√ßamentos de obras contra bases de pre√ßos de refer√™ncia (LPU - Lista de Pre√ßos Unit√°rios). O sistema automatiza a an√°lise de diverg√™ncias, identifica itens que necessitam ressarcimento e gera relat√≥rios detalhados em m√∫ltiplos formatos.

### üéØ Objetivo

Fornecer uma ferramenta robusta e automatizada para:
- ‚úÖ Validar or√ßamentos de obras contra bases de pre√ßos referenciais
- ‚úÖ Identificar diverg√™ncias e irregularidades
- ‚úÖ Calcular potencial de ressarcimento
- ‚úÖ Gerar relat√≥rios executivos e t√©cnicos
- ‚úÖ Facilitar auditorias e an√°lises gerenciais

### üèÜ Benef√≠cios

- **Produtividade:** An√°lises que levavam horas agora levam minutos
- **Precis√£o:** C√°lculos automatizados eliminam erros manuais
- **Rastreabilidade:** Todos os dados e an√°lises documentados
- **Flexibilidade:** M√∫ltiplos formatos de sa√≠da (Excel, CSV, HTML)
- **Escalabilidade:** Processa milhares de itens rapidamente

---

## üìö Documenta√ß√£o Completa

### üöÄ Para Come√ßar

#### 1. [QUICKSTART.md](../QUICKSTART.md) - In√≠cio R√°pido (5 min)
**Primeiro documento a ler!**

- Instala√ß√£o e configura√ß√£o inicial
- Primeiro uso do sistema
- Exemplos b√°sicos de execu√ß√£o
- Verifica√ß√£o de instala√ß√£o

**üëâ Comece aqui se √© sua primeira vez usando o sistema**

#### 2. [README.md](../README.md) - Vis√£o Geral do Projeto
- Descri√ß√£o geral do projeto
- Funcionalidades principais
- Requisitos de sistema
- Links para documenta√ß√£o

---

### üèóÔ∏è Arquitetura e Desenvolvimento

#### 3. [ARCHITECTURE.md](./ARCHITECTURE.md) - Arquitetura do Sistema
**Para desenvolvedores e arquitetos**

- Arquitetura geral do sistema
- Estrutura de m√≥dulos e pacotes
- Diagrama de componentes
- Fluxo de dados
- Decis√µes arquiteturais
- Padr√µes de projeto utilizados

#### 4. [DEVELOPMENT.md](./DEVELOPMENT.md) - Guia de Desenvolvimento
**Para desenvolvedores contribuindo com o projeto**

- Ambiente de desenvolvimento
- Estrutura do c√≥digo
- Padr√µes de c√≥digo
- Como contribuir
- Testes e valida√ß√µes
- Processo de CI/CD

---

### üìä Funcionalidade Principal - Validador LPU

#### 5. [README_EXPORTS.md](./README_EXPORTS.md) - √çndice de Exporta√ß√µes
**Ponto de entrada para documenta√ß√£o de exporta√ß√µes**

- √çndice completo de documentos sobre exporta√ß√µes
- Guia de navega√ß√£o
- Qual documento ler para cada necessidade

#### 6. [QUICKSTART_EXPORTS.md](./QUICKSTART_EXPORTS.md) - Uso R√°pido de Exporta√ß√µes (2 min)
**Como usar as exporta√ß√µes em 30 segundos**

- Comandos b√°sicos
- Como visualizar relat√≥rios
- Troubleshooting r√°pido
- Dicas pr√°ticas

#### 7. [EXPORT_REPORTS.md](./EXPORT_REPORTS.md) - Documenta√ß√£o Completa de Exporta√ß√µes (15 min)
**Documenta√ß√£o t√©cnica detalhada (~500 linhas)**

- Descri√ß√£o de todos os arquivos gerados
- Estrutura do Excel completo (11+ abas)
- Caracter√≠sticas do relat√≥rio HTML
- Casos de uso avan√ßados
- Personaliza√ß√£o e customiza√ß√£o
- Troubleshooting detalhado
- Refer√™ncias t√©cnicas

#### 8. [SUMMARY_EXPORTS.md](./SUMMARY_EXPORTS.md) - Resumo Visual de Exporta√ß√µes (5 min)
**Resumo visual da implementa√ß√£o**

- Fluxo de execu√ß√£o
- Estrutura dos arquivos
- Estat√≠sticas de c√≥digo
- Casos de uso
- Exemplos pr√°ticos

#### 9. [CHANGELOG_EXPORTS.md](./CHANGELOG_EXPORTS.md) - Changelog de Exporta√ß√µes (8 min)
**Hist√≥rico de implementa√ß√£o**

- Objetivo alcan√ßado
- Arquivos criados/modificados
- Novas fun√ß√µes implementadas
- Linhas de c√≥digo adicionadas
- Como testar
- Benef√≠cios alcan√ßados

#### 10. [CHECKLIST_EXPORTS.md](./CHECKLIST_EXPORTS.md) - Checklist de Implementa√ß√£o (5 min)
**Valida√ß√£o da implementa√ß√£o**

- Checklist de c√≥digo
- Checklist de funcionalidades
- Checklist de testes
- Estat√≠sticas finais
- Status de valida√ß√£o

---

### üìù Documentos de Refer√™ncia

#### 11. [PROJECT_SUMMARY.md](../PROJECT_SUMMARY.md) - Resumo do Projeto
- Vis√£o geral executiva
- Hist√≥rico de desenvolvimento
- Status atual
- Pr√≥ximos passos

---

## üóÇÔ∏è Estrutura do Projeto

```
construct-cost-ai/
‚îú‚îÄ‚îÄ üìÑ README.md                    # Vis√£o geral do projeto
‚îú‚îÄ‚îÄ üìÑ QUICKSTART.md                # Guia de in√≠cio r√°pido
‚îú‚îÄ‚îÄ üìÑ PROJECT_SUMMARY.md           # Resumo executivo
‚îú‚îÄ‚îÄ üìÑ LICENSE                      # Licen√ßa do projeto
‚îú‚îÄ‚îÄ üìÑ pyproject.toml               # Configura√ß√£o do projeto Python
‚îú‚îÄ‚îÄ üìÑ requirements.txt             # Depend√™ncias de produ√ß√£o
‚îú‚îÄ‚îÄ üìÑ requirements-dev.txt         # Depend√™ncias de desenvolvimento
‚îú‚îÄ‚îÄ üìÑ settings.toml                # Configura√ß√µes gerais
‚îÇ
‚îú‚îÄ‚îÄ üìÅ docs/                        # Documenta√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ INDEX.md                 # Este arquivo (√≠ndice principal)
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ ARCHITECTURE.md          # Arquitetura do sistema
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ DEVELOPMENT.md           # Guia de desenvolvimento
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ README_EXPORTS.md        # √çndice de exporta√ß√µes
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ QUICKSTART_EXPORTS.md    # Guia r√°pido de exporta√ß√µes
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ EXPORT_REPORTS.md        # Documenta√ß√£o completa de exporta√ß√µes
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ SUMMARY_EXPORTS.md       # Resumo visual de exporta√ß√µes
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ CHANGELOG_EXPORTS.md     # Changelog de exporta√ß√µes
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ CHECKLIST_EXPORTS.md     # Checklist de implementa√ß√£o
‚îÇ
‚îú‚îÄ‚îÄ üìÅ src/                         # C√≥digo-fonte
‚îÇ   ‚îî‚îÄ‚îÄ construct_cost_ai/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ üìÅ api/                 # API REST (FastAPI)
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ app.py
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ routes.py
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ schemas.py
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ üìÅ domain/              # L√≥gica de neg√≥cio
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ models.py
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ orchestrator.py
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ validador_lpu.py    # ‚≠ê M√≥dulo principal
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ validators/
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ base.py
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ deterministic.py
‚îÇ       ‚îÇ
‚îÇ       ‚îî‚îÄ‚îÄ üìÅ infra/               # Infraestrutura
‚îÇ           ‚îú‚îÄ‚îÄ __init__.py
‚îÇ           ‚îú‚îÄ‚îÄ üìÅ ai/              # Integra√ß√µes com IA
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ stackspot_client.py
‚îÇ           ‚îú‚îÄ‚îÄ üìÅ config/          # Configura√ß√µes
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ config.py
‚îÇ           ‚îî‚îÄ‚îÄ üìÅ logging/         # Sistema de logs
‚îÇ               ‚îú‚îÄ‚îÄ __init__.py
‚îÇ               ‚îî‚îÄ‚îÄ logging_config.py
‚îÇ
‚îú‚îÄ‚îÄ üìÅ app/                         # Interface Streamlit
‚îÇ   ‚îî‚îÄ‚îÄ streamlit_app.py
‚îÇ
‚îú‚îÄ‚îÄ üìÅ cli/                         # Interface CLI
‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îÇ
‚îú‚îÄ‚îÄ üìÅ examples/                    # Exemplos de uso
‚îÇ   ‚îú‚îÄ‚îÄ test_validador_lpu.py      # ‚≠ê Script principal de teste
‚îÇ   ‚îú‚îÄ‚îÄ test_exports.py            # Teste de exporta√ß√µes
‚îÇ   ‚îú‚îÄ‚îÄ api_request.json           # Exemplo de requisi√ß√£o API
‚îÇ   ‚îî‚îÄ‚îÄ sample_budget.json         # Exemplo de or√ßamento
‚îÇ
‚îú‚îÄ‚îÄ üìÅ tests/                       # Testes automatizados
‚îÇ   ‚îú‚îÄ‚îÄ conftest.py
‚îÇ   ‚îú‚îÄ‚îÄ test_api.py
‚îÇ   ‚îú‚îÄ‚îÄ test_orchestrator.py
‚îÇ   ‚îî‚îÄ‚îÄ test_validators.py
‚îÇ
‚îú‚îÄ‚îÄ üìÅ data/                        # Dados de exemplo (n√£o versionado)
‚îÇ   ‚îú‚îÄ‚îÄ orcamento_exemplo.xlsx     # Or√ßamento de exemplo
‚îÇ   ‚îî‚îÄ‚îÄ lpu_exemplo.xlsx           # LPU de exemplo
‚îÇ
‚îî‚îÄ‚îÄ üìÅ outputs/                     # Sa√≠da de relat√≥rios (n√£o versionado)
    ‚îú‚îÄ‚îÄ validacao_lpu.xlsx
    ‚îú‚îÄ‚îÄ validacao_lpu.csv
    ‚îú‚îÄ‚îÄ relatorio_completo_validacao_lpu.xlsx
    ‚îî‚îÄ‚îÄ relatorio_validacao_lpu.html
```

---

## üöÄ Funcionalidades Principais

### 1. ‚≠ê Validador LPU - M√≥dulo Principal

**Arquivo:** `src/construct_cost_ai/domain/validador_lpu.py`

#### Fun√ß√µes Principais

##### `validar_lpu()`
Orquestra todo o processo de valida√ß√£o:
1. Carrega or√ßamento
2. Carrega base LPU
3. Cruza dados por c√≥digo de item
4. Calcula diverg√™ncias
5. Gera relat√≥rios autom√°ticos

**Gera 4 arquivos automaticamente:**
- Excel b√°sico (4 abas)
- CSV completo
- Excel completo (11+ abas)
- HTML interativo

##### `gerar_relatorio_excel_completo()`
Gera Excel com 11+ abas:
- Estat√≠sticas gerais
- Top 10/20 diverg√™ncias (R$ e %)
- Itens para ressarcimento
- An√°lises por categoria/UPE
- Dataset completo

##### `gerar_relatorio_html()`
Gera dashboard HTML interativo:
- Cards estat√≠sticos coloridos
- Tabelas responsivas
- Top 10 diverg√™ncias
- Design moderno e profissional

#### Status de Concilia√ß√£o

| Status | Crit√©rio | A√ß√£o |
|--------|----------|------|
| **OK** | `-3% ‚â§ diverg√™ncia ‚â§ +3%` | ‚úÖ Aprovado |
| **Para ressarcimento** | `diverg√™ncia > +3%` | ‚ö†Ô∏è Pre√ßo acima da refer√™ncia |
| **Abaixo LPU** | `diverg√™ncia < -3%` | üî¥ Pre√ßo muito abaixo |

---

### 2. üìä Sistema de Exporta√ß√µes

#### 4 Arquivos Gerados por Valida√ß√£o

##### 1. Excel B√°sico (4 abas)
- Valida√ß√£o Completa
- Resumo por Status
- Resumo por Categoria
- Resumo por UPE

##### 2. CSV Completo
- Todos os dados (separador `;`)
- Encoding UTF-8

##### 3. Excel Completo (11+ abas)
- Estat√≠sticas
- Resumo por Status
- Top 10/20 Div Absoluta
- Top 10/20 Div Percentual
- Itens Para Ressarcimento
- Itens Abaixo LPU
- Resumo por Categoria
- Dif por Categoria
- Resumo por UPE
- Dif por UPE
- Dados Completos

##### 4. HTML Interativo
- Dashboard visual
- Cards coloridos
- Tabelas formatadas
- Responsivo e print-friendly

**üìñ Documenta√ß√£o:** [EXPORT_REPORTS.md](./EXPORT_REPORTS.md)

---

### 3. üåê API REST (FastAPI)

**Arquivo:** `src/construct_cost_ai/api/app.py`

Endpoints dispon√≠veis:
- `POST /validate` - Validar or√ßamento
- `GET /health` - Status da API
- `GET /docs` - Documenta√ß√£o Swagger

**Como executar:**
```bash
python run_api.py
# Acesse: http://localhost:8000/docs
```

---

### 4. üñ•Ô∏è Interface Web (Streamlit)

**Arquivo:** `app/streamlit_app.py`

Interface visual para:
- Upload de arquivos
- Configura√ß√£o de valida√ß√£o
- Visualiza√ß√£o de resultados
- Download de relat√≥rios

**Como executar:**
```bash
streamlit run app/streamlit_app.py
```

---

### 5. üíª Interface CLI

**Arquivo:** `cli/main.py`

Linha de comando para automa√ß√£o:
```bash
python -m cli.main validate \
  --orcamento data/orcamento.xlsx \
  --lpu data/lpu.xlsx \
  --output outputs/
```

---

## üîß Tecnologias Utilizadas

### Core
- **Python 3.10+** - Linguagem principal
- **Pandas** - Manipula√ß√£o de dados
- **openpyxl** - Gera√ß√£o de Excel

### APIs e Interfaces
- **FastAPI** - API REST
- **Streamlit** - Interface web
- **Click** - Interface CLI

### Infraestrutura
- **Dynaconf** - Gerenciamento de configura√ß√µes
- **Loguru** - Sistema de logs
- **Pydantic** - Valida√ß√£o de dados

### Desenvolvimento
- **pytest** - Testes automatizados
- **black** - Formata√ß√£o de c√≥digo
- **ruff** - Linting

---

## üìä Fluxo de Valida√ß√£o

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   VALIDADOR LPU                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  1. CARREGAR OR√áAMENTO                                      ‚îÇ
‚îÇ     ‚îú‚îÄ Ler arquivo Excel                                    ‚îÇ
‚îÇ     ‚îú‚îÄ Validar estrutura                                    ‚îÇ
‚îÇ     ‚îî‚îÄ Normalizar dados                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  2. CARREGAR LPU (Base de Pre√ßos)                           ‚îÇ
‚îÇ     ‚îú‚îÄ Ler m√∫ltiplas fontes (SINAPI, SICRO, etc.)          ‚îÇ
‚îÇ     ‚îú‚îÄ Consolidar bases                                     ‚îÇ
‚îÇ     ‚îî‚îÄ Indexar por c√≥digo                                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  3. CRUZAR DADOS                                            ‚îÇ
‚îÇ     ‚îú‚îÄ Merge por c√≥digo de item                             ‚îÇ
‚îÇ     ‚îú‚îÄ Identificar itens sem correspond√™ncia                ‚îÇ
‚îÇ     ‚îî‚îÄ Preparar dataset unificado                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  4. CALCULAR DIVERG√äNCIAS                                   ‚îÇ
‚îÇ     ‚îú‚îÄ Diferen√ßa unit√°ria (or√ßado - LPU)                    ‚îÇ
‚îÇ     ‚îú‚îÄ Diverg√™ncia percentual                               ‚îÇ
‚îÇ     ‚îú‚îÄ Diverg√™ncia total (qtde √ó dif_unit√°ria)              ‚îÇ
‚îÇ     ‚îî‚îÄ Status de concilia√ß√£o (OK/Ressarcimento/Abaixo)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  5. GERAR RELAT√ìRIOS                                        ‚îÇ
‚îÇ     ‚îú‚îÄ Excel B√°sico (4 abas)                                ‚îÇ
‚îÇ     ‚îú‚îÄ CSV Completo                                         ‚îÇ
‚îÇ     ‚îú‚îÄ Excel Completo (11+ abas)                            ‚îÇ
‚îÇ     ‚îî‚îÄ HTML Interativo                                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
                    ‚úÖ CONCLU√çDO
```

---

## üéØ Casos de Uso

### 1. An√°lise R√°pida de Or√ßamento
```python
from construct_cost_ai.domain.validador_lpu import validar_lpu

df = validar_lpu(
    caminho_orcamento="data/orcamento.xlsx",
    caminho_lpu="data/lpu.xlsx",
    output_dir="outputs"
)

# 4 arquivos gerados automaticamente
# Abrir relatorio_validacao_lpu.html no navegador
```

### 2. Auditoria Detalhada
```python
from examples.test_validador_lpu import executar_validacao

df = executar_validacao(
    verbose=True,
    gerar_estatisticas=True,
    gerar_top_divergencias=True,
    gerar_analise_categorias=True,
    gerar_analise_upes=True,
    top_n=20
)

# An√°lises completas no terminal + 4 arquivos
```

### 3. Filtrar Itens Problem√°ticos
```python
df = executar_validacao(
    filtro_percentual=15.0,        # > 15% de diverg√™ncia
    filtro_categoria="Estrutura",  # Categoria espec√≠fica
    gerar_top_divergencias=True
)
```

### 4. Integra√ß√£o via API
```bash
curl -X POST http://localhost:8000/validate \
  -H "Content-Type: multipart/form-data" \
  -F "orcamento=@orcamento.xlsx" \
  -F "lpu=@lpu.xlsx"
```

### 5. Automa√ß√£o em Lote
```bash
# Script CLI para m√∫ltiplos or√ßamentos
for file in data/orcamentos/*.xlsx; do
  python -m cli.main validate \
    --orcamento "$file" \
    --lpu data/lpu.xlsx \
    --output "outputs/$(basename $file)"
done
```

---

## üß™ Como Testar

### 1. Verificar Instala√ß√£o
```bash
python verify_installation.py
```

### 2. Teste R√°pido
```bash
python examples/test_validador_lpu.py
# Menu: escolha op√ß√£o 3 (Valida√ß√£o simples)
```

### 3. Teste de Exporta√ß√µes
```bash
python examples/test_exports.py
```

### 4. Testes Automatizados
```bash
pytest tests/ -v
```

### 5. Verificar Arquivos Gerados
```bash
cd outputs
dir  # Windows
ls   # Linux/Mac
```

**Arquivos esperados:**
- ‚úÖ `validacao_lpu.xlsx`
- ‚úÖ `validacao_lpu.csv`
- ‚úÖ `relatorio_completo_validacao_lpu.xlsx`
- ‚úÖ `relatorio_validacao_lpu.html`

---

## üìñ Guia de Leitura por Perfil

### üëî Gestor / Tomador de Decis√£o
1. [INDEX.md](./INDEX.md) - Este documento (vis√£o geral)
2. [README.md](../README.md) - Vis√£o do projeto
3. [QUICKSTART_EXPORTS.md](./QUICKSTART_EXPORTS.md) - Como usar (2 min)
4. Executar: `python examples/test_validador_lpu.py`
5. Abrir: `outputs/relatorio_validacao_lpu.html`

### üë®‚Äçüíª Desenvolvedor Novo no Projeto
1. [README.md](../README.md) - Vis√£o geral
2. [QUICKSTART.md](../QUICKSTART.md) - Configura√ß√£o inicial
3. [ARCHITECTURE.md](./ARCHITECTURE.md) - Arquitetura
4. [DEVELOPMENT.md](./DEVELOPMENT.md) - Guia de desenvolvimento
5. [INDEX.md](./INDEX.md) - Este documento (refer√™ncia completa)

### üìä Analista / Usu√°rio Final
1. [QUICKSTART.md](../QUICKSTART.md) - Como come√ßar
2. [QUICKSTART_EXPORTS.md](./QUICKSTART_EXPORTS.md) - Usar exporta√ß√µes
3. [EXPORT_REPORTS.md](./EXPORT_REPORTS.md) - Entender relat√≥rios
4. Executar: `python examples/test_validador_lpu.py`

### üèóÔ∏è Arquiteto de Software
1. [ARCHITECTURE.md](./ARCHITECTURE.md) - Arquitetura completa
2. [INDEX.md](./INDEX.md) - Este documento
3. [DEVELOPMENT.md](./DEVELOPMENT.md) - Padr√µes e pr√°ticas
4. Revisar: `src/construct_cost_ai/domain/validador_lpu.py`

### üîß DevOps / Infraestrutura
1. [README.md](../README.md) - Requisitos de sistema
2. [DEVELOPMENT.md](./DEVELOPMENT.md) - Ambiente e deploy
3. Revisar: `requirements.txt`, `pyproject.toml`
4. Configurar: `settings.toml`

---

## üîó Links R√°pidos

### C√≥digo-Fonte Principal
- [validador_lpu.py](../src/construct_cost_ai/domain/validador_lpu.py) - M√≥dulo principal
- [test_validador_lpu.py](../examples/test_validador_lpu.py) - Script de teste
- [test_exports.py](../examples/test_exports.py) - Teste de exporta√ß√µes

### Documenta√ß√£o Essencial
- [INDEX.md](./INDEX.md) - Este documento
- [QUICKSTART.md](../QUICKSTART.md) - In√≠cio r√°pido
- [EXPORT_REPORTS.md](./EXPORT_REPORTS.md) - Exporta√ß√µes completas

### Configura√ß√£o
- [settings.toml](../settings.toml) - Configura√ß√µes gerais
- [pyproject.toml](../pyproject.toml) - Configura√ß√£o do projeto
- [requirements.txt](../requirements.txt) - Depend√™ncias

---

## ‚ö†Ô∏è Troubleshooting R√°pido

### Erro: "No module named 'construct_cost_ai'"
```bash
pip install -e .
# ou
export PYTHONPATH="${PYTHONPATH}:$(pwd)/src"
```

### Erro: "No module named 'openpyxl'"
```bash
pip install openpyxl
```

### Arquivos n√£o gerados
- Verificar permiss√µes do diret√≥rio `outputs/`
- Fechar arquivos Excel abertos
- Verificar logs em `logs/`

### HTML n√£o abre
```bash
# Windows
start chrome outputs\relatorio_validacao_lpu.html

# Mac
open -a "Google Chrome" outputs/relatorio_validacao_lpu.html
```

**Mais problemas?** Consulte [EXPORT_REPORTS.md](./EXPORT_REPORTS.md) - Se√ß√£o Troubleshooting

---

## üöÄ Pr√≥ximos Passos

### Curto Prazo (em desenvolvimento)
- [ ] Gr√°ficos no relat√≥rio HTML (Chart.js)
- [ ] Exporta√ß√£o para PDF
- [ ] Dashboard web com filtros interativos
- [ ] Suporte a mais bases de pre√ßos

### M√©dio Prazo (planejado)
- [ ] Machine Learning para detec√ß√£o de anomalias
- [ ] An√°lise preditiva de custos
- [ ] Integra√ß√£o com sistemas corporativos
- [ ] API de notifica√ß√µes

### Longo Prazo (roadmap)
- [ ] M√≥dulo de an√°lise temporal de pre√ßos
- [ ] Benchmarking entre projetos
- [ ] Recomenda√ß√µes automatizadas
- [ ] Integra√ß√£o com BI tools

---

## üìä M√©tricas do Projeto

| M√©trica | Valor |
|---------|-------|
| **Linhas de c√≥digo** | ~2.500 |
| **Linhas de documenta√ß√£o** | ~3.500 |
| **M√≥dulos principais** | 3 |
| **Fun√ß√µes p√∫blicas** | 15+ |
| **Testes automatizados** | 20+ |
| **Formatos de sa√≠da** | 4 |
| **Abas no Excel completo** | 11+ |

---

## üìß Suporte e Contribui√ß√£o

### Reportar Problemas
1. Verificar se j√° existe issue aberta
2. Incluir logs e arquivos de exemplo
3. Descrever passos para reproduzir

### Contribuir com C√≥digo
1. Ler [DEVELOPMENT.md](./DEVELOPMENT.md)
2. Fork do reposit√≥rio
3. Criar branch feature
4. Enviar Pull Request

### Sugest√µes e Melhorias
- Abrir issue com tag "enhancement"
- Descrever caso de uso
- Incluir exemplos se poss√≠vel

---

## üìú Licen√ßa

Este projeto est√° sob a licen√ßa especificada no arquivo [LICENSE](../LICENSE).

---

## üéØ Resumo Executivo

### O que √©?
Sistema automatizado para valida√ß√£o de or√ßamentos de obras contra bases de pre√ßos de refer√™ncia (LPU).

### Para que serve?
- Identificar diverg√™ncias e irregularidades em or√ßamentos
- Calcular potencial de ressarcimento
- Gerar relat√≥rios executivos e t√©cnicos
- Facilitar auditorias e an√°lises gerenciais

### Principais Benef√≠cios?
- ‚ö° **Rapidez:** An√°lises em minutos (antes: horas)
- üéØ **Precis√£o:** C√°lculos automatizados (zero erros manuais)
- üìä **Relat√≥rios:** 4 formatos (Excel b√°sico, Excel completo, CSV, HTML)
- üîç **Rastreabilidade:** Tudo documentado e audit√°vel
- üöÄ **Escalabilidade:** Milhares de itens processados rapidamente

### Como Come√ßar?
1. Ler [QUICKSTART.md](../QUICKSTART.md) (5 minutos)
2. Executar `python examples/test_validador_lpu.py`
3. Abrir `outputs/relatorio_validacao_lpu.html` no navegador
4. Explorar os 4 arquivos gerados

---

**üèóÔ∏è Construct Cost AI - Verificador Inteligente de Obras**

**Vers√£o:** 2.0.0  
**Data:** Novembro 2025  
**Status:** Produ√ß√£o ‚úÖ

---

*Desenvolvido com ‚ù§Ô∏è para otimizar a gest√£o de custos em obras de infraestrutura*

**üìñ Documenta√ß√£o Completa:** [docs/](.)  
**üöÄ In√≠cio R√°pido:** [QUICKSTART.md](../QUICKSTART.md)  
**üíª C√≥digo:** [src/construct_cost_ai/](../src/construct_cost_ai/)  
**üìä Exemplos:** [examples/](../examples/)
